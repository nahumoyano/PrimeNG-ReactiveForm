<div class="m-4 content">
  <p-menubar [model]="labels" class="m-4">
    <p-button routerLink="/proveedores/cargar-proveedor">
      <i class="pi pi-plus mr-2"></i>
      Nuevo</p-button
    >
  </p-menubar>
  <!-- <p-table
    [value]="listados"
    [tableStyle]="{ 'min-width': '60rem' }"
    [paginator]="true"
    [rows]="5"
    [showCurrentPageReport]="true"
    currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
    [rowsPerPageOptions]="[10, 25, 50]"
    class="mt-2"
  >
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="CP">N° <p-sortIcon field="CP"></p-sortIcon></th>
        <th pSortableColumn="ID">
          Nombre
          <p-sortIcon field="ID"></p-sortIcon>
        </th>
        <th pSortableColumn="CIUDADID">
          Cuit <p-sortIcon field="CIUDADID"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Teléfono <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Email <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Dirección <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Localidad <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Provincia <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Tipo <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA">
          Fantasia <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th pSortableColumn="PROVINCIA" class="pSortableColumn">
          Estado <p-sortIcon field="PROVINCIA"></p-sortIcon>
        </th>
        <th>ACCIÓN <p-sortIcon></p-sortIcon></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-listado>
      <tr>
        <td>{{ listado.num }}</td>
        <td>{{ listado.nombre }}</td>
        <td>{{ listado.cuit }}</td>
        <td>{{ listado.telefono }}</td>
        <td>{{ listado.email }}</td>
        <td>{{ listado.direccion }}</td>
        <td>{{ listado.localidad }}</td>
        <td>{{ listado.provincia }}</td>
        <td>{{ listado.tipo }}</td>
        <td>{{ listado.fantasia }}</td>
        <td
          [style.background-color]="listado.estado | cambiarColorEnabled"
          style="color: #fff"
        >
          {{ listado.estado }}
        </td>
        <td>
          <div class="card flex justify-content-center">
            <p-button [routerLink]="['/editar-provincia', listado.ID]"
              >Editar</p-button
            >
          </div>
        </td>
      </tr>
    </ng-template>
    <ng-template pTemplate="paginatorleft">
      <p-button
        type="button"
        icon="pi pi-plus"
        styleClass="p-button-text"
      ></p-button>
    </ng-template>
    <ng-template pTemplate="paginatorright">
      <p-button
        type="button"
        icon="pi pi-cloud"
        styleClass="p-button-text"
      ></p-button>
    </ng-template>
  </p-table> -->

  <div class="card">
    <p-table
      #dt2
      #table
      [value]="listados"
      dataKey="id"
      [rows]="10"
      [showCurrentPageReport]="true"
      [rowsPerPageOptions]="[10, 25, 50]"
      [loading]="loading"
      [paginator]="true"
      currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
      [globalFilterFields]="[
        'name',
        'country.name',
        'representative.name',
        'status'
      ]"
      [tableStyle]="{ 'min-width': '45rem' }"
    >
      <ng-template pTemplate="header">
        <tr>
          <th pSortableColumn="num">
            N° <p-sortIcon field="num"></p-sortIcon>
          </th>
          <th pSortableColumn="nombre">
            Nombre
            <p-sortIcon field="nombre"></p-sortIcon>
          </th>
          <th pSortableColumn="cuit">
            Cuit <p-sortIcon field="cuit"></p-sortIcon>
          </th>
          <th pSortableColumn="telefono">
            Teléfono <p-sortIcon field="telefono"></p-sortIcon>
          </th>
          <th pSortableColumn="email">
            Email <p-sortIcon field="email"></p-sortIcon>
          </th>
          <th pSortableColumn="direccion">
            Dirección <p-sortIcon field="direccion"></p-sortIcon>
          </th>
          <th pSortableColumn="localidad">
            Localidad <p-sortIcon field="localidad"></p-sortIcon>
          </th>
          <th pSortableColumn="provincia">
            Provincia <p-sortIcon field="provincia"></p-sortIcon>
          </th>
          <th pSortableColumn="tipo">
            Tipo <p-sortIcon field="tipo"></p-sortIcon>
          </th>
          <th pSortableColumn="fantasia">
            Fantasia <p-sortIcon field="fantasia"></p-sortIcon>
          </th>
          <th pSortableColumn="estado" class="pSortableColumn">
            Estado <p-sortIcon field="estado"></p-sortIcon>
          </th>
          <th>ACCIÓN <p-sortIcon></p-sortIcon></th>
        </tr>
        <tr>
          <th>
            <p-columnFilter type="text" field="num"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="nombre"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="cuit"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="telefono"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="email"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="direccion"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="localidad"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="provincia"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="tipo"></p-columnFilter>
          </th>
          <th>
            <p-columnFilter type="text" field="fantasia"></p-columnFilter>
          </th>
          <th>
            <!-- <p-columnFilter field="estado" matchMode="in" [showMenu]="false">
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [options]="estados"
                  optionLabel="estado"
                ></p-dropdown>
              </ng-template>
            </p-columnFilter> -->
            <p-columnFilter
              field="estado"
              matchMode="equals"
              [showMenu]="false"
            >
              <ng-template
                pTemplate="filter"
                let-value
                let-filter="filterCallback"
              >
                <p-dropdown
                  [options]="estados"
                  formControlName="estadoControl"
                  (onChange)="filter()"
                  placeholder="Any"
                  [showClear]="true"
                  optionLabel="estado"
                >
                </p-dropdown>
              </ng-template>
            </p-columnFilter>
          </th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-listado>
        <tr>
          <td>{{ listado.num }}</td>
          <td>{{ listado.nombre }}</td>
          <td>{{ listado.cuit }}</td>
          <td>{{ listado.telefono }}</td>
          <td>{{ listado.email }}</td>
          <td>{{ listado.direccion }}</td>
          <td>{{ listado.localidad }}</td>
          <td>{{ listado.provincia }}</td>
          <td>{{ listado.tipo }}</td>
          <td>{{ listado.fantasia }}</td>
          <td
            [style.background-color]="listado.estado | cambiarColorEnabled"
            style="color: #fff"
          >
            {{ listado.estado }}
          </td>
          <td>
            <div class="card flex justify-content-center">
              <p-button [routerLink]="['/editar-provincia', listado.ID]"
                >Editar</p-button
              >
            </div>
          </td>
        </tr>
      </ng-template>
      <ng-template pTemplate="emptymessage">
        <tr>
          <td colspan="5">No customers found.</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
